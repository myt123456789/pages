{"version":3,"sources":["webpack:///./src/components/power/roles.vue?97b0","webpack:///src/components/power/roles.vue","webpack:///./src/components/power/roles.vue?f5fa","webpack:///./src/components/power/roles.vue","webpack:///./src/components/power/roles.vue?ea3b","webpack:///./node_modules/core-js/modules/web.dom.iterable.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","to","path","_v","staticClass","type","staticStyle","margin-top","data","roleList","border","stripe","scopedSlots","_u","key","fn","scope","_l","row","item","id","span","_s","authName","item1","item2","closable","on","close","$event","reomveRightByid","label","prop","size","click","fpqx","title","visible","editDialog","update:visible","editDialogCloseds","ref","rightsTree","props","TreeProps","show-checkbox","node-key","default-expand-all","default-checked-keys","defKey","slot","qxbtn","staticRenderFns","rolesvue_type_script_lang_js_","children","roleId","created","getRoleList","mounted","methods","_getRoleList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","_ref","res","wrap","_context","prev","next","$http","get","sent","meta","status","abrupt","$message","error","stop","apply","arguments","_reomveRightByid","_callee2","role","roleid","ress","_ref2","_context2","lib_message_box_default","a","confirm","confirmButtonText","cancelButtonText","catch","err","info","delete","concat","success","_x","_x2","_fpqx","_callee3","_ref3","_context3","getLeafkeys","_x3","_qxbtn","_callee4","keys","ids","_ref4","_context4","toConsumableArray","$refs","Reftree","getCheckedKeys","getHalfCheckedKeys","join","post","rids","node","arr","_this","push","forEach","power_rolesvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_roles_vue_vue_type_style_index_0_id_03cba1c8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_roles_vue_vue_type_style_index_0_id_03cba1c8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","i","length","NAME","explicit","Collection","proto","prototype"],"mappings":"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","file":"js/chunk-79366128.b042f375.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"权限列表\")]),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',[_c('el-col',[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"添加角色\")])],1)],1),_c('el-table',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"data\":_vm.roleList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item){return _c('el-row',{key:item.id},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',[_vm._v(_vm._s(item.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":19}},_vm._l((item.children),function(item1){return _c('el-row',{key:item1.id},[_c('el-col',{attrs:{\"span\":6}},[_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(item1.authName))])],1),_c('el-col',{attrs:{\"span\":18}},_vm._l((item1.children),function(item2){return _c('el-tag',{key:item2.id,attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.reomveRightByid(scope.row,item2.id)}}},[_vm._v(_vm._s(item2.authName))])}),1)],1)}),1)],1)})}}])}),_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}}),_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"prop\":\"level\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.fpqx(scope.row)}}},[_vm._v(\"分配权限\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配权限\",\"visible\":_vm.editDialog},on:{\"update:visible\":function($event){_vm.editDialog=$event},\"close\":_vm.editDialogCloseds}},[_c('el-tree',{ref:\"Reftree\",attrs:{\"data\":_vm.rightsTree,\"props\":_vm.TreeProps,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"default-checked-keys\":_vm.defKey}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.qxbtn}},[_vm._v(\" 确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: your name\r\n * @Date: 2021-10-30 12:49:38\r\n * @LastEditTime: 2021-10-30 17:31:07\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\vue_shop\\src\\components\\power\\roles.vue\r\n-->\r\n<template>\r\n    <div>\r\n         <el-breadcrumb >\r\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>权限列表</el-breadcrumb-item>\r\n        <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <el-card class=\"box-card\">\r\n            <el-row>\r\n                <el-col>\r\n                    <el-button type=\"primary\">添加角色</el-button>\r\n                </el-col>\r\n            </el-row>\r\n            <el-table :data=\"roleList\" border style=\"margin-top:20px\" stripe>\r\n                <el-table-column  type=\"expand\">\r\n                    <template  slot-scope=\"scope\">\r\n                        <el-row v-for=\"item in scope.row.children\" :key=\"item.id\">\r\n                            <el-col :span=\"5\">\r\n                                <el-tag>{{item.authName}}</el-tag>\r\n                                <i class=\"el-icon-caret-right\"></i>\r\n                            </el-col>\r\n                            <el-col :span=\"19\">\r\n                                <el-row v-for=\"item1 in item.children\" :key=\"item1.id\">\r\n                                     <el-col :span=\"6\">\r\n                                         <el-tag type=\"success\">{{item1.authName}}</el-tag>\r\n                                     </el-col>\r\n                                     <el-col :span=\"18\">\r\n                                         <el-tag v-for=\"item2 in item1.children\" :key=\"item2.id\" closable @close=\"reomveRightByid(scope.row,item2.id)\">{{item2.authName}}</el-tag>\r\n                                     </el-col>\r\n                                </el-row>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column  type=\"index\" ></el-table-column>\r\n                <el-table-column label=\"角色名称\" prop=\"roleName\" ></el-table-column>\r\n                <el-table-column label=\"角色描述\" prop=\"roleDesc\" ></el-table-column>\r\n                <el-table-column label=\"操作\" prop=\"level\" >\r\n                    <template slot-scope=\"scope\">\r\n                       <el-button type=\"primary\" size=\"mini\">编辑</el-button>\r\n                       <el-button type=\"primary\" size=\"mini\">删除</el-button>\r\n                       <el-button type=\"primary\" size=\"mini\" @click=\"fpqx(scope.row)\">分配权限</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n              </el-table>\r\n        </el-card>\r\n        <!-- 分配权限 -->\r\n        <el-dialog title=\"分配权限\"\r\n            :visible.sync=\"editDialog\"\r\n            @close=\"editDialogCloseds\"> \r\n             <el-tree :data=\"rightsTree\" \r\n             :props=\"TreeProps\" \r\n             show-checkbox \r\n             node-key=\"id\" \r\n             default-expand-all \r\n             :default-checked-keys=\"defKey\"\r\n             ref=\"Reftree\"\r\n             >\r\n\r\n             </el-tree>\r\n               <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editDialog = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"qxbtn\"> 确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n      \r\n</template>\r\n<script>\r\nimport { MessageBox } from 'element-ui'\r\nexport default {\r\n    data() {\r\n        return {\r\n            roleList:[],\r\n            editDialog:false,\r\n            rightsTree:[],\r\n            TreeProps:{\r\n                label:'authName',\r\n                children:'children'\r\n            },\r\n            defKey:[],\r\n            roleId:'',\r\n        };\r\n    },\r\n    created(){\r\n        this.getRoleList()\r\n    },\r\n    mounted() {\r\n        \r\n    },\r\n\r\n    methods: {\r\n        async getRoleList(){\r\n            const {data:res} = await this.$http.get('roles');\r\n            if(res.meta.status != 200) return this.$message.error('获取角色列表失败')\r\n            this.roleList = res.data;\r\n        },\r\n      async  reomveRightByid(role,roleid){\r\n          const ress  =  await MessageBox.confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).catch(err => err)\r\n\r\n        if(ress !== 'confirm'){\r\n            return this.$message.info('已取消删除')\r\n        }\r\n        const {data:res} = await this.$http.delete(`roles/${role.id}/rights/${roleid}`);\r\n         if(res.meta.status != 200) return this.$message.error('删除权限失败')\r\n         role.children = res.data;\r\n         this.$message.success('删除权限成功')\r\n        },\r\n       async fpqx(role){\r\n           this.roleId = role.id;\r\n             const {data:res} = await this.$http.get('rights/tree');\r\n            if(res.meta.status != 200) return this.$message.error('获取权限数据失败')\r\n            this.rightsTree = res.data;\r\n            this.editDialog = true\r\n            this.defKey = [];\r\n            this.getLeafkeys(role,this.defKey)\r\n            \r\n        },\r\n      async qxbtn(){\r\n            const keys = [\r\n                ...this.$refs.Reftree.getCheckedKeys(),\r\n                ...this.$refs.Reftree.getHalfCheckedKeys()\r\n            ]\r\n         const ids = keys.join(',')\r\n         const {data:res} = await this.$http.post(`roles/${this.roleId}/rights`,{rids:ids});\r\n         if(res.meta.status != 200) return this.$message.error('分配权限失败');\r\n         this.$message.error('分配权限成功')\r\n         this.getRoleList()\r\n          this.editDialog = false\r\n        },\r\n        editDialogCloseds(){\r\n\r\n        },\r\n        getLeafkeys(node,arr){\r\n            if(!node.children){\r\n               return arr.push(node.id)\r\n            }\r\n            node.children.forEach(item => {\r\n                this.getLeafkeys(item,arr)\r\n            })\r\n        }\r\n    },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n    .el-breadcrumb{\r\n        margin-bottom: 20px;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roles.vue?vue&type=template&id=03cba1c8&scoped=true&\"\nimport script from \"./roles.vue?vue&type=script&lang=js&\"\nexport * from \"./roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roles.vue?vue&type=style&index=0&id=03cba1c8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03cba1c8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=style&index=0&id=03cba1c8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=style&index=0&id=03cba1c8&lang=less&scoped=true&\"","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n"],"sourceRoot":""}