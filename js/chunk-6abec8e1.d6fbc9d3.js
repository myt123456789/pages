(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6abec8e1"],{"28a7":function(t,e,a){},"41ef":function(t,e,a){"use strict";var r=a("28a7"),n=a.n(r);n.a},"7f6a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("商品分类")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:t.tjfl}},[t._v("添加分类")])],1)],1),a("tree-table",{attrs:{data:t.cateList,columns:t.columns,"selection-type":!1,"expand-type":!1,"show-index":"",border:""},scopedSlots:t._u([{key:"isok",fn:function(t){return[!1===t.row.cat_deleted?a("i",{staticClass:"el-icon-success",staticStyle:{color:"lightgreen"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})]}},{key:"order",fn:function(e){return["0"==e.row.cat_level?a("el-tag",{attrs:{size:"mini"}},[t._v("一级")]):"1"==e.row.cat_level?a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v("二级")]):a("el-tag",{attrs:{size:"mini",type:"warning"}},[t._v("三级")])]}},{key:"opt",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}})]}}])}),a("el-dialog",{attrs:{title:"添加分类",visible:t.tjflDialog,width:"50%"},on:{"update:visible":function(e){t.tjflDialog=e},close:t.fpjsClose}},[a("el-form",{ref:"CateaFormRef",attrs:{model:t.CateaddForm,rules:t.CateadRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"cat_name"}},[a("el-input",{model:{value:t.CateaddForm.cat_name,callback:function(e){t.$set(t.CateaddForm,"cat_name",e)},expression:"CateaddForm.cat_name"}})],1),a("el-form-item",{attrs:{label:"父级分类"}},[a("el-cascader",{attrs:{options:t.optionsa,"expand-trigger":"hover",props:t.CateProps,clearable:"","change-on-selects":"true"},on:{change:t.handleChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.tjflDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.tjflbtn()}}},[t._v(" 确 定")])],1)],1)],1)],1)},n=[],i=(a("ac6a"),a("96cf"),a("3b8d")),s=(a("cadf"),a("551c"),a("f751"),a("097d"),{data:function(){return{value:[],CateProps:{value:"cat_id",label:"cat_name",children:"h"},optionsa:[],CateadRules:{cat_name:[{required:!0,message:"请输入名称",trigger:"blur"}]},CateaddForm:{cat_name:"",cat_id:0,cat_level:0},tjflDialog:!1,queryInfo:{type:3,pagenum:2,pagesize:10},total:0,cateList:[],columns:[{label:"分类名称",prop:"cat_name"},{label:"是否有效",type:"template",template:"isok"},{label:"排序",type:"template",template:"order"},{label:"操作",type:"template",template:"opt"}]}},created:function(){this.getCateList()},mounted:function(){},methods:{getCateList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("categories",{parmas:this.queryInfo});case 2:if(e=t.sent,a=e.data,200==a.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("获取商品分类失败"));case 6:this.cateList=a.data,this.total=a.data.total;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleSizeChange:function(t){this.queryInfo.pagesize=t,this.getCateList()},handleCurrentChange:function(t){this.queryInfo.pagenum=t,this.getCateList()},tjfl:function(){this.getParentCateList(),this.tjflDialog=!0},fpjsClose:function(){this.$refs.CateaFormRef.resetFields(),this.value=[],this.CateaddForm.cat_id=0,this.CateaddForm.cat_level=0},tjflbtn:function(){var t=this;this.$refs.CateaFormRef.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(a){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.post("categories",t.CateaddForm);case 4:if(r=e.sent,n=r.data,201===n.meta.status){e.next=8;break}return e.abrupt("return",t.$message.error("添加分类失败"));case 8:t.$message.success("添加分类成功"),t.getCateList();case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},getParentCateList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("categories",{parmas:{type:2}});case 2:if(e=t.sent,a=e.data,200==a.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("获取商品分类失败"));case 6:this.optionsa=a.data,this.optionsa.forEach(function(t){t.h=t.children});case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleChange:function(){if(this.value.length>0)return this.CateaddForm.cat_id=this.value[this.value.length-1],void(this.CateaddForm.cat_level=this.value.length);this.CateaddForm.cat_id=0,this.CateaddForm.cat_level=0}}}),o=s,l=(a("41ef"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,"0f9687dc",null);e["default"]=c.exports},ac6a:function(t,e,a){for(var r=a("cadf"),n=a("0d58"),i=a("2aba"),s=a("7726"),o=a("32e9"),l=a("84f2"),c=a("2b4c"),u=c("iterator"),d=c("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=n(p),h=0;h<m.length;h++){var g,b=m[h],v=p[b],C=s[b],L=C&&C.prototype;if(L&&(L[u]||o(L,u,f),L[d]||o(L,d,b),l[b]=f,v))for(g in r)L[g]||i(L,g,r[g],!0)}}}]);
//# sourceMappingURL=chunk-6abec8e1.d6fbc9d3.js.map