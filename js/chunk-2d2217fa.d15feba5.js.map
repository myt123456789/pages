{"version":3,"sources":["webpack:///./src/components/goods/List.vue?dbaf","webpack:///src/components/goods/List.vue","webpack:///./src/components/goods/List.vue?e139","webpack:///./src/components/goods/List.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","to","path","_v","staticStyle","margin-top","gutter","span","placeholder","clearable","on","clear","getGoodsList","model","value","queryInfo","callback","$$v","$set","expression","slot","icon","click","type","goAddpage","data","goodsList","border","stripe","label","prop","scopedSlots","_u","key","fn","scope","_s","_f","row","add_time","$event","removeById","goods_id","current-page","pagenum","page-sizes","page-size","pagesize","layout","total","background","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","Listvue_type_script_lang_js_","query","created","mounted","methods","_getGoodsList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","_ref","res","wrap","_context","prev","next","$http","get","params","sent","meta","status","abrupt","$message","error","success","goods","stop","apply","arguments","newSize","newPage","_removeById","_callee2","id","ress","_ref2","_context2","lib_message_box_default","a","confirm","confirmButtonText","cancelButtonText","catch","err","info","delete","concat","_x","$router","push","goods_Listvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d2217fa.d15feba5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getGoodsList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getGoodsList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goAddpage}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.goodsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}}),_c('el-table-column',{attrs:{\"label\":\"商品价格(元)\",\"prop\":\"goods_price\"}}),_c('el-table-column',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"prop\":\"add_time\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                        \"+_vm._s(_vm._f(\"dataFormat\")(scope.row.add_time))+\"\\n                    \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"编辑\")]),_c('el-button',{on:{\"click\":function($event){return _vm.removeById(scope.row.goods_id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total,\"background\":\"\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: your name\r\n * @Date: 2021-11-12 17:08:07\r\n * @LastEditTime: 2021-11-15 15:00:21\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n * @FilePath: \\vue_shop\\src\\components\\goods\\list.vue\r\n-->\r\n<template>\r\n    <div>\r\n        <el-breadcrumb >\r\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <el-card style=\"margin-top:20px\">\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\">\r\n                    <el-input placeholder=\"请输入内容\" v-model=\"queryInfo.query\" clearable @clear=\"getGoodsList\">\r\n                        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getGoodsList\"></el-button>\r\n                    </el-input>\r\n                </el-col>\r\n                 <el-col :span=\"4\" >\r\n                     <el-button type=\"primary\" @click=\"goAddpage\">添加商品</el-button>\r\n                 </el-col>\r\n            </el-row>\r\n            <el-table :data=\"goodsList\" border stripe>\r\n                <el-table-column type=\"index\"></el-table-column>\r\n                <el-table-column label=\"商品名称\" prop=\"goods_name\"></el-table-column>\r\n                <el-table-column label=\"商品价格(元)\" prop=\"goods_price\"></el-table-column>\r\n                 <el-table-column label=\"商品重量\" prop=\"goods_weight\"></el-table-column>\r\n                  <el-table-column label=\"创建时间\" prop=\"add_time\">\r\n                        <template slot-scope=\"scope\">\r\n                            {{scope.row.add_time | dataFormat}}\r\n                        </template>\r\n                  </el-table-column>\r\n                  <el-table-column label=\"操作\">\r\n                      <template slot-scope=\"scope\">\r\n                          <el-button type=\"primary\">编辑</el-button>\r\n                           <el-button @click=\"removeById(scope.row.goods_id)\">删除</el-button>\r\n                      </template>\r\n                  </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryInfo.pagenum\"\r\n                :page-sizes=\"[10, 20, 30, 40]\"\r\n                :page-size=\"queryInfo.pagesize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\" background>\r\n            </el-pagination>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { MessageBox } from 'element-ui'\r\nexport default {\r\n\r\n    data() {\r\n        return {\r\n            queryInfo:{\r\n                query:\"\",\r\n                pagenum:1,\r\n                pagesize:10\r\n            },\r\n            goodsList:[],\r\n            total:0\r\n        };\r\n    },\r\n    created(){\r\n        this.getGoodsList()\r\n    },\r\n    mounted() {\r\n        \r\n    },\r\n\r\n    methods: {\r\n     async  getGoodsList(){\r\n         const {data:res} = await this.$http.get('goods',{params:this.queryInfo})\r\n         if(res.meta.status !==200) return this.$message.error('获取商品列表失败')\r\n         this.$message.success('获取商品列表成功')\r\n         this.goodsList= res.data.goods;\r\n         this.total = res.data.total;\r\n         console.log(res.data)\r\n       },\r\n       handleSizeChange(newSize){\r\n           this.queryInfo.pagesize = newSize\r\n           this.getGoodsList()\r\n       },\r\n       handleCurrentChange(newPage){\r\n            this.queryInfo.pagenum = newPage\r\n            this.getGoodsList()\r\n       },\r\n     async removeById(id){\r\n            const ress  =  await MessageBox.confirm('此操作将永久删除该商品, 是否继续?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n            }).catch(err => err)\r\n            if(ress !== 'confirm') return this.$message.info('已取消删除');\r\n            const {data:res} = await this.$http.delete(`goods/${id}`);\r\n            if(res.meta.status !==200) return this.$message.error('删除商品失败')\r\n            this.$message.success('删除商品成功')\r\n            this.getGoodsList()\r\n       },\r\n       goAddpage(){\r\n           this.$router.push('goods/add') \r\n       }\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=d02119e4&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}